<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>tms服务</title>
	<script type="text/javascript" src="leaflet/leaflet.js" ></script>
	<link rel="stylesheet" href="leaflet/leaflet.css" />
</head>
<body>
	<div id='map' style="height:600px"></div>
<script>
	var map = L.map('map').setView([32.044649, 118.796098], 13);

	L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    	attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
	}).addTo(map);

	var tmsLayer = L.tileLayer
			( 	 
				 // http://192.168.7.227:8080/tiles/{z}/{x}/{y}.jpg		# 谷歌地图
			 	'http://localhost:8080/geoserver/gwc/service/tms/1.0.0/cite%3Aanhui2000_4326@3857@png/{z}/{x}/{y}.png',  // 矢量切片（EPSG:3857）
			 	{
		        	tms: true
		    	}
			);
	tmsLayer.addTo(map);
			// //加载自定义的切片图层
		 //    var tileFormat='png';
		 //    //实现Tile的Extend模式
			// L.TileLayer.Custom = L.TileLayer.extend
			// (
			// 	{
			// 		//监听getTileUrl方法回调，参数为xyz坐标的结构体
			// 		getTileUrl : function(coords)
			// 		{
			// 			//拼接满足tms服务的格式的URL请求
			// 			url= 'http://localhost:8080/tiles';
			// 			//注意：这里返回的y坐标和geoserver生成的y坐标值存在一个转换关系
			// 			url= url+"/"+coords.z+"/"+coords.x+"/"+(Math.pow(2,coords.z)-coords.y-1)+"."+tileFormat;
			// 			return url;
			// 		}
			// 	}
			// );
			// //添加到地图
			// new L.TileLayer.Custom().addTo(map);
</script>
</body>
</html>